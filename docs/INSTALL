Myntcd telepitesi utmutato.

Ez az utmutato GNU Debian linux operaciosrendszer es MySQL adatbazis
szerverhez keszult.
A telepites barmely mas linux/unix szeru operacios rendszeren elvegezheto.
A myntcd tamogat minden olyan sql szervert, melyet pear-db es drupalon
keresztul el lehet erni.

0. Myntcd Licensze:
  GNU GPL v2.0

1. A program hasznalatahoz es telepiteshez szukseges csomagok:
- libpcap0.8 es libpcap0.8-dev
- gcc, make, automake
- rrdtool
- php (php5-cli, php5-mysql)
- webszerver
- drupal 6.x
- Csak MySQL szerver tamogatott sajnos

2. Kicsomagolas, elokeszuletek:
 $ tar -xvvzf myntcd-1.0.0.tar.gz
 MySql adatbazis letrehozasa.
 $ cd myntcd-1.0.0/docs
 $ mysql -u root -p < traffic.sql
 Mysql felhasznalo letrehozasa:
 - myntcd felhasznalo tudja irni/olvasni a traffic adatbazist
   GRANT ALL PRIVILEGES ON `traffic` . * TO 'myntcd'@'localhost' IDENTIFIED BY 'myntcd_pass'

2.1 Ha mar hasznaltunk egy korabbi verziot:
 Futtassuk updatesql.php

 cd /usr/local/myntcd/bin
 ./updatesql.php

3. Telepites:
3.1. Daemon telepitese:
 A program telepitesehez rendszergazda jogokkal kell rendelkeznunk:
 # ./install.sh
 # cat install.sh
  
 #!/bin/sh

 cd daemon/
 ./autostuff
 ./configure --sysconfdir=/usr/local/etc/myntcd
 make

 mkdir -p /usr/local/myntcd/bin
 mkdir -p /usr/local/myntcd/data
 mkdir -p /usr/local/myntcd/data.backup
 mkdir -p /usr/local/myntcd/rrd
 mkdir -p /usr/local/etc/myntcd

 cd ..
 cp bin/* /usr/local/myntcd/bin/
 cp daemon/src/myntcd /usr/local/myntcd/bin/
 cp -r docs /usr/local/myntcd/
 cp etc/myntcd/* /usr/local/etc/myntcd/
 ln -s /usr/local/etc/myntcd /etc/myntcd

 # innen debian specifikus
 cp etc/cron.d/myntcd /etc/cron.d/
 cp etc/init.d/myntcd /etc/init.d/
 cd /etc/init.d/
 update-rc.d myntcd defaults
 cd -
 #END FILE
 
3.2 Drupal modul telepitese:
 
# cp -r myntcd /var/www/drupal/sites/all/modules/myntcd
# cp -r sysadminmenu /var/www/drupal/sites/all/modules/sysadminmenu

4. Utolso simitasok:

Cron beallitasa.
(install script bemasolja a cron.d konyvtarba)
 #Daemon kimenetenek feldolgozasa:
 */5 * * * * root /usr/local/myntcd/bin/myntc.php
 #Szuro aktivalasa:
 */5 * * * * root /usr/local/myntcd/bin/blacklist.php

Drupal modul beallitasa.
 Link: http://localhost/drupal/?q=admin/sysadmin/myntcd
